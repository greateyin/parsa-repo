{{ $newsletter := .Site.Params.newsletter | default dict }}
{{ $newsletterEnabled := $newsletter.enabled | default false }}
{{ $footer := .Site.Params.footer | default dict }}
<footer class="border-t bg-gradient-to-br from-muted/30 via-background to-muted/20 backdrop-blur-sm">
    <div class="container mx-auto px-4 py-12 lg:py-16">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12">
            <!-- Site Info -->
            <div class="sm:col-span-2 lg:col-span-1">
                <div class="mb-6">
                    {{ if .Site.Params.logo }}
                        <img src="{{ .Site.Params.logo | absURL }}" alt="{{ .Site.Title }}" class="h-8 w-auto mb-4">
                    {{ else }}
                        <h3 class="text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-4">
                            {{ .Site.Title }}
                        </h3>
                    {{ end }}
                    <p class="text-muted-foreground text-sm leading-relaxed">
                        {{ .Site.Params.description | default "A modern Hugo theme with beautiful design and powerful features." }}
                    </p>
                </div>
                
                <!-- Newsletter Signup (if enabled) -->
                {{ if $newsletterEnabled }}
                <div class="space-y-3">
                    <h4 class="text-sm font-semibold text-foreground">{{ i18n "newsletter_title" | default "Stay Updated" }}</h4>
                    <form class="flex flex-col sm:flex-row gap-2" action="{{ $newsletter.action | default "#" }}" method="post">
                        <input 
                            type="email" 
                            name="email" 
                            placeholder="{{ i18n "newsletter_placeholder" | default "Enter your email" }}"
                            class="flex-1 px-3 py-2 text-sm bg-background border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-colors"
                            required
                        >
                        <button 
                            type="submit"
                            class="px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded-md hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-colors"
                        >
                            {{ i18n "newsletter_subscribe" | default "Subscribe" }}
                        </button>
                    </form>
                </div>
                {{ end }}
            </div>
            
            <!-- Quick Links -->
            <div>
                <h4 class="text-sm font-semibold text-foreground mb-4">{{ i18n "footer_navigation" | default "Navigation" }}</h4>
                <nav class="space-y-3">
                    {{ range .Site.Menus.main }}
                        <a href="{{ .URL }}" 
                           class="block text-sm text-muted-foreground hover:text-primary transition-colors duration-200 hover:translate-x-1 transform">
                            {{ .Name }}
                        </a>
                    {{ end }}
                </nav>
            </div>
            
            <!-- Categories -->
            <div>
                <h4 class="text-sm font-semibold text-foreground mb-4">{{ i18n "footer_categories" | default "Categories" }}</h4>
                <nav class="space-y-3">
                    {{ range first 5 .Site.Taxonomies.categories.ByCount }}
                        <a href="{{ "/categories/" | relLangURL }}{{ .Name | urlize }}" 
                           class="block text-sm text-muted-foreground hover:text-primary transition-colors duration-200 hover:translate-x-1 transform">
                            {{ .Name | title }}
                            <span class="text-xs text-muted-foreground/70 ml-1">({{ .Count }})</span>
                        </a>
                    {{ end }}
                </nav>
            </div>
            
            <!-- Social Links & Contact -->
            <div>
                <h4 class="text-sm font-semibold text-foreground mb-4">{{ i18n "footer_connect" | default "Connect" }}</h4>
                
                <!-- Social Media Links -->
                {{ if .Site.Params.social }}
                <div class="flex flex-wrap gap-3 mb-6">
                    {{ range $name, $url := .Site.Params.social }}
                        <a href="{{ $url }}" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           class="inline-flex items-center justify-center w-10 h-10 text-muted-foreground bg-muted/50 rounded-full hover:bg-primary hover:text-primary-foreground transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary/50"
                           aria-label="{{ $name | title }}"
                           title="{{ $name | title }}">
                            {{ if eq $name "twitter" }}
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"/>
                                </svg>
                            {{ else if eq $name "github" }}
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/>
                                </svg>
                            {{ else if eq $name "linkedin" }}
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" clip-rule="evenodd"/>
                                </svg>
                            {{ else if eq $name "facebook" }}
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"/>
                                </svg>
                            {{ else if eq $name "instagram" }}
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M12.017 0C8.396 0 7.929.01 7.102.048 6.273.088 5.718.222 5.238.42a6.606 6.606 0 00-2.384 1.553A6.606 6.606 0 00.42 5.238C.222 5.718.087 6.273.048 7.102.01 7.929 0 8.396 0 12.017c0 3.624.01 4.09.048 4.918.04.83.174 1.384.372 1.864.204.92.478 1.698 1.553 2.384a6.606 6.606 0 002.384 1.553c.48.198 1.035.333 1.864.372.829.04 1.295.048 4.918.048 3.624 0 4.09-.01 4.918-.048.83-.04 1.384-.174 1.864-.372a6.606 6.606 0 002.384-1.553 6.606 6.606 0 001.553-2.384c.198-.48.333-1.035.372-1.864.04-.829.048-1.295.048-4.918 0-3.624-.01-4.09-.048-4.918-.04-.83-.174-1.384-.372-1.864a6.606 6.606 0 00-1.553-2.384A6.606 6.606 0 0018.901.42C18.421.222 17.866.087 17.037.048 16.21.01 15.743 0 12.017 0zm0 2.16c3.561 0 3.983.01 5.39.048.3.001.608.014.908.04.738.065 1.462.243 2.136.525.5.21.95.49 1.32.86.37.37.65.82.86 1.32.282.674.46 1.398.525 2.136.026.3.039.608.04.908.038 1.407.048 1.829.048 5.39 0 3.561-.01 3.983-.048 5.39-.001.3-.014.608-.04.908-.065.738-.243 1.462-.525 2.136a3.874 3.874 0 01-.86 1.32 3.874 3.874 0 01-1.32.86c-.674.282-1.398.46-2.136.525-.3.026-.608.039-.908.04-1.407.038-1.829.048-5.39.048-3.561 0-3.983-.01-5.39-.048a9.217 9.217 0 01-.908-.04 6.606 6.606 0 01-2.136-.525 3.874 3.874 0 01-1.32-.86 3.874 3.874 0 01-.86-1.32 6.606 6.606 0 01-.525-2.136 9.217 9.217 0 01-.04-.908c-.038-1.407-.048-1.829-.048-5.39 0-3.561.01-3.983.048-5.39.001-.3.014-.608.04-.908.065-.738.243-1.462.525-2.136.21-.5.49-.95.86-1.32.37-.37.82-.65 1.32-.86.674-.282 1.398-.46 2.136-.525.3-.026.608-.039.908-.04 1.407-.038 1.829-.048 5.39-.048zm0 3.678a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12.017 16a4 4 0 110-8 4 4 0 010 8zm7.846-10.405a1.441 1.441 0 01-2.88 0 1.441 1.441 0 012.88 0z" clip-rule="evenodd"/>
                                </svg>
                            {{ else if eq $name "youtube" }}
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path fill-rule="evenodd" d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.417-4.814a2.507 2.507 0 0 1 1.768-1.768C5.744 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z" clip-rule="evenodd"/>
                                </svg>
                            {{ else }}
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            {{ end }}
                        </a>
                    {{ end }}
                </div>
                {{ end }}
                
                <!-- Contact Info -->
                {{ if or .Site.Params.email .Site.Params.phone }}
                <div class="space-y-2 text-sm">
                    {{ with .Site.Params.email }}
                    <div class="flex items-center text-muted-foreground">
                        <svg class="w-4 h-4 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        <a href="mailto:{{ . }}" class="hover:text-primary transition-colors">{{ . }}</a>
                    </div>
                    {{ end }}
                    {{ with .Site.Params.phone }}
                    <div class="flex items-center text-muted-foreground">
                        <svg class="w-4 h-4 mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                        </svg>
                        <a href="tel:{{ . }}" class="hover:text-primary transition-colors">{{ . }}</a>
                    </div>
                    {{ end }}
                </div>
                {{ end }}
            </div>
        </div>
        
        <!-- Bottom Section -->
        <div class="border-t border-border/50 mt-12 pt-8">
            <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
                <div class="text-sm text-muted-foreground text-center sm:text-left">
                    <p>&copy; {{ now.Year }} {{ .Site.Title }}. {{ i18n "footer_rights" | default "All rights reserved." }}</p>
                    {{ if $footer.showPoweredBy }}
                    <p class="mt-1">
                        {{ i18n "footer_powered_by" | default "Powered by" }} 
                        <a href="https://gohugo.io/" target="_blank" rel="noopener" class="text-primary hover:text-primary/80 transition-colors">Hugo</a>
                        {{ i18n "footer_and" | default "and" }}
                        <a href="https://tailwindcss.com/" target="_blank" rel="noopener" class="text-primary hover:text-primary/80 transition-colors">Tailwind CSS</a>
                    </p>
                    {{ end }}
                </div>
                
                <!-- Footer Menu -->
                {{ if .Site.Menus.footer }}
                <nav class="flex flex-wrap justify-center sm:justify-end gap-6">
                    {{ range .Site.Menus.footer }}
                        <a href="{{ .URL }}" 
                           class="text-sm text-muted-foreground hover:text-primary transition-colors">
                            {{ .Name }}
                        </a>
                    {{ end }}
                </nav>
                {{ end }}
            </div>
        </div>
    </div>
</footer>