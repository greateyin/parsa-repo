{{ define "main" }}
<div class="container mx-auto px-4 py-8 max-w-4xl">
  <!-- Article Header -->
  <article class="prose prose-lg max-w-none">
    <header class="mb-8 text-center">
      <!-- Category Badge -->
      {{ with .Params.categories }}
        {{ range first 1 . }}
        <div class="mb-4">
          <a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}" 
             class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary hover:bg-primary/20 transition-colors">
            {{ . | title }}
          </a>
        </div>
        {{ end }}
      {{ end }}
      
      <!-- Article Title -->
      <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">
        {{ .Title }}
      </h1>
      
      <!-- Article Meta -->
      <div class="flex flex-wrap items-center justify-center gap-4 text-muted-foreground text-sm mb-6">
        <!-- Author -->
        {{ with .Params.author | default .Site.Params.author.name }}
        <div class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
          </svg>
          <span>{{ . }}</span>
        </div>
        {{ end }}
        
        <!-- Publication Date -->
        <div class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
          </svg>
          <time datetime="{{ .Date.Format "2006-01-02" }}">
            {{ .Date.Format "January 2, 2006" }}
          </time>
        </div>
        
        <!-- Read Time -->
        {{ with .ReadingTime }}
        <div class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
          </svg>
          <span>{{ . }} {{ i18n "minRead" | default "min read" }}</span>
        </div>
        {{ end }}
      </div>
      
      <!-- Featured Image -->
      {{ with .Params.image }}
      <div class="mb-8">
        <img src="{{ . | relURL }}" 
             alt="{{ $.Params.imageAlt | default $.Title }}"
             class="w-full h-64 md:h-96 object-cover rounded-lg shadow-lg">
      </div>
      {{ end }}
    </header>
    
    <!-- Article Content -->
    <div class="prose prose-lg max-w-none prose-headings:font-semibold prose-headings:text-foreground prose-p:text-foreground prose-a:text-primary prose-a:no-underline hover:prose-a:underline prose-strong:text-foreground prose-code:text-primary prose-pre:bg-muted prose-pre:border prose-blockquote:border-l-primary prose-blockquote:bg-muted/50 prose-blockquote:text-foreground">
      {{ .Content }}
    </div>
    
    <!-- Tags -->
    {{ with .Params.tags }}
    <div class="mt-8 pt-6 border-t">
      <h3 class="text-lg font-semibold mb-4">{{ i18n "tags" | default "Tags" }}</h3>
      <div class="flex flex-wrap gap-2">
        {{ range . }}
        <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" 
           class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-muted hover:bg-muted/80 text-muted-foreground hover:text-foreground transition-colors">
          #{{ . }}
        </a>
        {{ end }}
      </div>
    </div>
    {{ end }}
    
    <!-- Social Sharing -->
    {{ if .Site.Params.features.socialSharing }}
      {{ partial "footer/social-share.html" . }}
    {{ end }}
    
    <!-- Related Articles Widget -->
    {{ partial "widgets/related.html" . }}
  </article>
</div>
{{ end }}